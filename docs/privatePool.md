---
id: privatePool
title: DODO V2 私有池
sidebar_label: DODO V2 私有池
---

## 什么是私有池

如果你不能满足于[公有池](./publicPool)，想要以下几个特性：

1. 能不能支持单边充提
2. 能不能随时改变价格曲线
3. 能不能让价格从零到无穷大分布

那么 私有池 就是最适合你的产品。这是一个极度灵活，能满足专业人士需求，同时简单易用的产品。

我们之前讲到，[PMM算法](./pmm)是订单簿的压缩版本，在简单易懂，轻巧便宜的同时，最大程度上保留了订单簿的灵活性。私有池 正是展示了PMM灵活性的产品。我们用一张深度图来展示 私有池 的状态，以及它能实现哪些案例：

![](https://dodoex.github.io/cn/img/dpp_1.png)

### 案例1：规避下跌风险

当你感觉市场有下跌风险时，可以直接减少买盘库存，构建一个买盘薄，卖盘厚的流动性状态。在有人卖出大量苹果时，你给出的报价会迅速下降，以保护你的资金。

![](https://dodoex.github.io/cn/img/dpp_2.png)


### 案例2：主动发现价格

你感觉苹果很有潜力，价格会上涨。不想以便宜的价格出售苹果，在AMM中你有两种选择

1. 自己买入 —— 需要大量资金
2. 减少资金池规模 —— 流动性变差

这两种选择都不令人满意。这是因为，在AMM框架内你没有主动发现价格的权力。但是 私有池 允许你直接调整市场中间价。让你的专业能力得到其应有的回报。同时也是一种更高效的价格发现。

### 案例3：恒定价格市场

设定k=0，即可以恒定价格兑换。例如你发行了新的稳定币X，锚定USDT。就可以准备一定量的USDT作为准备金，并提供大量代币X，建立一个稳定币1：1兑换市场。你也可以将k设置为一个非常小的值，例如k=0.001，这样可以获得类似curve的“近似恒定的”价格曲线。

### 案例4：退化为AMM

设定k=1，并以价格i的比例充值两种代币，即可获得表现与AMM相同的市场

### 案例5：市值管理需求

如果市场的主要流动性由你提供，则可以根据需要设定价格和买卖盘深度。来提供币价支撑，或抑制投机行为


## 背后的数学

私有池 使用的是PMM算法，只不过其中所有参数，都可以由池子的管理员手动修改，这一算法不要求两种库存（BaseToken和QuoteToken）有任何比例关系，同时有着非常强的灵活性，包括：

1. 如果k=0则退化为恒定价格模型

2. 如果k=1则退化为AMM

3. 如果k是一个接近0的小量则退化为curve

![](https://dodoex.github.io/cn/img/dpp_3.png)

PMM 的价格曲线对应的公式为:

$$P_{margin}=iR$$

$R$ 是由以下公式确定:

$$如果 B<B_0, 则 R=1-k+(\frac{B_0}{B})^2k$$

$$如果 Q<Q_0, 则 R=1/(1-k+(\frac{Q_0}{Q})^2k)$$

$$其他情况 R=1$$

公式中，B和Q代表合约中代币余额；k、i、B0、Q0均可以由池子管理员设置修改

